import{a as R,t as k,b as D}from"./disclose-version.DZcaPsiO.js";import"./legacy.ByRZ0RZV.js";import{h as x,au as B,av as F,Q as M,aw as L,ax as G,w as V,aq as Q,D as U,c as g,r as h,s as m,p as K,a as W,y as d,M as f,n as Y,aa as p}from"./runtime.CEeJOaW3.js";import{i as z}from"./lifecycle.Debgd6PA.js";import{o as H}from"./index-client.C80z12Id.js";import{a as X,l as Z,s as j}from"./render.CrzR9ip1.js";import{p as y}from"./props.DoochoKG.js";import{B as tt}from"./Button.CbQACl4x.js";import{B as et,J as rt,R as at,V as st,b as A,a as O}from"./sdkUtil.CEYXJ9Be.js";import{a as S,T as N}from"./toast.vWwVVyZE.js";import{C as ot}from"./Card.B7bBLkGU.js";import"./entry.aUj1uYXU.js";function nt(t){if(x){var e=!1,r=()=>{if(!e){if(e=!0,t.hasAttribute("value")){var s=t.value;v(t,"value",null),t.value=s}if(t.hasAttribute("checked")){var a=t.checked;v(t,"checked",null),t.checked=a}}};t.__on_r=r,B(r),X()}}function v(t,e,r,s){var a=t.__attributes??(t.__attributes={});x&&(a[e]=t.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&t.nodeName==="LINK")||a[e]!==(a[e]=r)&&(e==="style"&&"__styles"in t&&(t.__styles={}),e==="loading"&&(t[F]=r),r==null?t.removeAttribute(e):typeof r!="string"&&it(t).includes(e)?t[e]=r:t.setAttribute(e,r))}var $=new Map;function it(t){var e=$.get(t.nodeName);if(e)return e;$.set(t.nodeName,e=[]);for(var r,s=t,a=Element.prototype;a!==s;){r=L(s);for(var o in r)r[o].set&&e.push(o);s=M(s)}return e}function lt(t,e,r=e){var s=G();Z(t,"input",a=>{var o=a?t.defaultValue:t.value;if(o=w(t)?b(o):o,r(o),s&&o!==(o=e())){var l=t.selectionStart,n=t.selectionEnd;t.value=o??"",n!==null&&(t.selectionStart=l,t.selectionEnd=Math.min(n,t.value.length))}}),(x&&t.defaultValue!==t.value||V(e)==null&&t.value)&&r(w(t)?b(t.value):t.value),Q(()=>{var a=e();w(t)&&a===b(t.value)||t.type==="date"&&!a&&!t.value||a!==t.value&&(t.value=a??"")})}function w(t){var e=t.type;return e==="number"||e==="range"}function b(t){return t===""?null:+t}var ut=k('<div class="flex flex-col"><label class="uppercase text-neutral-600 font-semibold text-sm"> </label> <input class="svelte-oact8j"></div>');function I(t,e){let r=y(e,"id",8),s=y(e,"label",8),a=y(e,"type",8),o=y(e,"value",12);var l=ut(),n=g(l),c=g(n,!0);h(n);var i=m(n,2);nt(i),h(l),U(()=>{v(n,"for",r()),j(c,s()),v(i,"id",r()),v(i,"type",a())}),lt(i,o),R(t,l)}function dt(t){return ct(t)}function ct(t,e){return t==null?t:{firstName:t.firstName==null?void 0:t.firstName,lastName:t.lastName==null?void 0:t.lastName,birthday:t.birthday==null?void 0:new Date(t.birthday)}}function ft(t){return vt(t)}function vt(t,e){return t==null?t:{introductorySettings:t.introductorySettings==null?void 0:dt(t.introductorySettings)}}function yt(t){return mt(t,!1)}function mt(t,e=!1){return t==null?t:{firstName:t.firstName,lastName:t.lastName,birthday:t.birthday.toISOString().substring(0,10)}}class E extends et{async getIntroductionsRaw(e){const r={},s={},a=await this.request({path:"/settings/introductions",method:"GET",headers:s,query:r},e);return new rt(a,o=>ft(o))}async getIntroductions(e){return await(await this.getIntroductionsRaw(e)).value()}async setIntroductionsRaw(e,r){if(e.setIntroductorySettingsRequest==null)throw new at("setIntroductorySettingsRequest",'Required parameter "setIntroductorySettingsRequest" was null or undefined when calling setIntroductions().');const s={},a={};a["Content-Type"]="application/json";const o=await this.request({path:"/settings/introductions",method:"PUT",headers:a,query:s,body:yt(e.setIntroductorySettingsRequest)},r);return new st(o)}async setIntroductions(e,r){await this.setIntroductionsRaw(e,r)}}var gt=k('<div class="flex flex-col gap-4"><div class="flex flex-col xl:flex-row gap-4"><!> <!> <!></div> <!></div>');function Ot(t,e){K(e,!1);let r=p(),s=p(),a=p();async function o(){await new E(A()).getIntroductions().then(n=>{f(r,n.introductorySettings.firstName),f(s,n.introductorySettings.lastName),f(a,n.introductorySettings.birthday)}).catch(async n=>{await O(n).then(c=>S({message:c,type:N.ERROR}))})}H(async()=>{await o()});async function l(){await new E(A()).setIntroductions({setIntroductorySettingsRequest:{firstName:d(r),lastName:d(s),birthday:new Date(d(a))}}).then(()=>{S({message:`Nice to meet you, ${d(r)}. We've saved this to your account.`,type:N.SUCCESS})}).catch(async n=>{await O(n).then(c=>S({message:c,type:N.ERROR}))})}z(),ot(t,{title:"Introductions",subtitle:"Tell us a bit about yourself.",children:(n,c)=>{var i=gt(),_=g(i),q=g(_);I(q,{id:"firstName",label:"First Name",type:"text",get value(){return d(r)},set value(u){f(r,u)},$$legacy:!0});var T=m(q,2);I(T,{id:"lastName",label:"Last Name",type:"text",get value(){return d(s)},set value(u){f(s,u)},$$legacy:!0});var J=m(T,2);I(J,{id:"birthday",label:"Birthday",type:"date",get value(){return d(a)},set value(u){f(a,u)},$$legacy:!0}),h(_);var P=m(_,2);tt(P,{$$events:{click:l},children:(u,ht)=>{Y();var C=D("Save");R(u,C)},$$slots:{default:!0}}),h(i),R(n,i)},$$slots:{default:!0}}),W()}export{Ot as I};
